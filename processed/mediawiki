apt-get --no-install-recommends -y -q install mediawiki php5-cli postfix python-mysqldb pwgen
/var/www/wp-uploads
/etc/mediawiki/config-%s.php
/usr/share/mediawiki/maintenance/install.php
do
$ip/includes $ip/languages
$ip/includes/defaultsettings.php
request_method
this script must be run from the command line\n
/config-settings.php
/mediawiki
php
webmaster@localhost
webmaster@localhost
mysql
database_host)s
database)s
database_user)s
database_password)s
/etc/mediawiki/dbservers.php
engine=innodb, default charset=binary
/memcached_settings.php
/usr/bin/convert
en_us.utf8
en
secret_key)s
/usr/bin/diff3
/etc/mediawiki-extensions/extensions.php
/etc/mediawiki-extensions/extensions.php
ymdhis
database_user)s
database_password)s
juju_remote_unit
remote unit
relation-get --format json
no settings yet, cannot configure
settings
database
password
user
private-address
/dev/urandom r hex
database_host
database
database_password
database_user
secret_key
do not have for %r: %r
could not fetch database settings, exiting
sed -ie s,^#alias /mediawiki,alias /mediawiki, /etc/mediawiki/apache.conf
/etc/init.d/apache2 reload
/var/www
<?php header( );\n
/var/www/index.php
index.php removed
index.php not present
/var/www/index.php
/var/www/index.html
index.html removed
index.html not present
create table mediawiki_juju_setup (id int
could not create mediawiki_juju_setup
pwgen 16
pwgen 16
php
dbuser
dbpass
dbname
installdbuser
installdbpass
confpath /etc/mediawiki
dbserver
dbtype mysql
pass
config-get name
sitename juju-d wiki
emergencycontact webmaster@localhost
languagecode en
license none
sysopname
sysoppass
sysoppass2
shm none
email email_enabled
emailuser emailuser_enabled
enotif enotif_disabled
eauthent eauthent_enabled
dbtype mysql
dbserver
dbname
dbuser
dbpassword
dbpassword2
http://localhost/mediawiki/config/index.php
install url returned
warning: could not post to installer!
dropping mediawiki_juju_setup
drop table mediawiki_juju_setup
could not drop mediawiki_juju_setup
/etc/mediawiki/localsettings.php w
chmod 0640 /etc/mediawiki/localsettings.php
chgrp www-data /etc/mediawiki/localsettings.php
/etc/mediawiki/adminsettings.php w
chmod 0640 /etc/mediawiki/adminsettings.php
chgrp www-data /etc/mediawiki/adminsettings.php
combine-dbservers
running
open-port 80
relation-list
relation-get --format json
private-address port
private-address port
has no settings
/etc/mediawiki
chmod 0644
<?php\n#no memcached servers\n
/etc/mediawiki/memcached_settings.php.old
/etc/mediawiki/memcached_settings.php /etc/mediawiki/memcached_settings.php.old
/etc/mediawiki/memcached_settings.php
