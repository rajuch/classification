juju_remote_unit
need juju_remote_unit to run
juju_remote_unit /
data
data
data/primary_id w
relation-get --format=json monitors
primary-monitors.yaml w
hooks/monitors-relation-joined
apt-get install -y nagios-nrpe-server charm-helper-sh
juju_remote_unit testing/0 /
data
data
data/primary_id w
hooks/monitors-relation-joined
/usr/lib/nagios/plugins
base-monitors.yaml r
config-get monitors --format=json
primary-monitors.yaml
primary-monitors.yaml
check_true
/usr/bin/true
procrunning processcount
executable
s_%s /
s:%s min  max
check_procs
w -c
c
mem
check_mem
plugins check_mem.pl
c -u -w 85 -c 90
disk
path /
disk_%s /
check_disk
w 20 -c 10 -p
/etc/nagios/nrpe.d/%s.cfg
command[%s]=%s
cannot write to %s
s=%s
monitors local
monitors remote
nrpe
nrpe
swap
/proc/swaps
nrpe command check_swap
mem
nrpe command
s-%s
nrpe command
monitors.yaml w
service nagios-nrpe-server restart
